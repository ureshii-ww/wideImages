// ==UserScript==
// @name        DTF Wide Images
// @version     1.0.2
// @author      ureshii-ww
// @description Makes DTF feed images wider
// @homepage    https://dtf.ru/u/197370-le-mort-joyeux
// @supportURL  https://dtf.ru/u/197370-le-mort-joyeux
// @match       https://dtf.ru/*
// @icon        https://www.google.com/s2/favicons?domain=dtf.ru
// @updateURL   https://github.com/ureshii-ww/wideImages/raw/master/dist/wideFeedImages.user.js
// @downloadURL https://github.com/ureshii-ww/wideImages/raw/master/dist/wideFeedImages.user.js
// @run-at      document-end
// @grant       none
// @license     https://www.gnu.org/licenses/gpl-3.0.en.html
// @website     https://dtf.ru/u/197370-le-mort-joyeux
// ==/UserScript==

(()=>{"use strict";function t(t){t.setAttribute("src",t.src.replace(/\/preview\/\d{1,3}\//,"/preview/800/"))}function r(t,r){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,r){if(!t)return;if("string"==typeof t)return n(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return n(t,r)}(t))||r&&t&&"number"==typeof t.length){e&&(t=e);var o=0,a=function(){};return{s:a,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,f=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return u=t.done,t},e:function(t){f=!0,i=t},f:function(){try{u||null==e.return||e.return()}finally{if(f)throw i}}}}function n(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,e=new Array(r);n<r;n++)e[n]=t[n];return e}function e(t,r){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,r){if(!t)return;if("string"==typeof t)return o(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,r)}(t))||r&&t&&"number"==typeof t.length){n&&(t=n);var e=0,a=function(){};return{s:a,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,f=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){f=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(f)throw i}}}}function o(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,e=new Array(r);n<r;n++)e[n]=t[n];return e}function a(n){var o,a,i=e(n.getElementsByClassName("content-image"));try{for(i.s();!(o=i.n()).done;){var u=o.value;0===u.getElementsByClassName("andropov_video").length&&(u.getElementsByClassName("andropov_image")[0].setAttribute("style",""),a=void 0,a=u.getElementsByClassName("andropov_image__inner")[0],new MutationObserver((function(n,e){var o,a=r(n);try{for(a.s();!(o=a.n()).done;){var i=o.value;if(i.addedNodes.length>0){var u,f=r(i.addedNodes);try{for(f.s();!(u=f.n()).done;){var l=u.value;"IMG"===l.tagName&&(t(l),e.disconnect())}}catch(t){f.e(t)}finally{f.f()}}}}catch(t){a.e(t)}finally{a.f()}})).observe(a,{childList:!0}))}}catch(t){i.e(t)}finally{i.f()}}function i(t,r){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,r){if(!t)return;if("string"==typeof t)return u(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(t,r)}(t))||r&&t&&"number"==typeof t.length){n&&(t=n);var e=0,o=function(){};return{s:o,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,f=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){f=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(f)throw a}}}}function u(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,e=new Array(r);n<r;n++)e[n]=t[n];return e}function f(t){var r,n=i(t.children);try{for(n.s();!(r=n.n()).done;){var e,o=i(r.value.children);try{for(o.s();!(e=o.n()).done;){a(e.value)}}catch(t){o.e(t)}finally{o.f()}}}catch(t){n.e(t)}finally{n.f()}}function l(t,r){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,r){if(!t)return;if("string"==typeof t)return c(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,r)}(t))||r&&t&&"number"==typeof t.length){n&&(t=n);var e=0,o=function(){};return{s:o,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){u=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw a}}}}function c(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,e=new Array(r);n<r;n++)e[n]=t[n];return e}function s(t){new MutationObserver((function(t){var r,n=l(t);try{for(n.s();!(r=n.n()).done;){var e=r.value;if(e.addedNodes.length>0){var o,i=l(e.addedNodes[0].children);try{for(i.s();!(o=i.n()).done;){a(o.value)}}catch(t){i.e(t)}finally{i.f()}}}}catch(t){n.e(t)}finally{n.f()}})).observe(t,{childList:!0})}function y(t,r){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,r){if(!t)return;if("string"==typeof t)return d(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(t,r)}(t))||r&&t&&"number"==typeof t.length){n&&(t=n);var e=0,o=function(){};return{s:o,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){u=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw a}}}}function d(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,e=new Array(r);n<r;n++)e[n]=t[n];return e}function v(t){var r,n=null,e=y(t);try{for(e.s();!(r=e.n()).done;){var o=r.value;"DIV"===o.tagName&&(n=o.getElementsByClassName("feed__container")[0])}}catch(t){e.e(t)}finally{e.f()}return n}function m(t,r){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,r){if(!t)return;if("string"==typeof t)return h(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(t,r)}(t))||r&&t&&"number"==typeof t.length){n&&(t=n);var e=0,o=function(){};return{s:o,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){u=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw a}}}}function h(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,e=new Array(r);n<r;n++)e[n]=t[n];return e}function b(){var t=document.getElementsByClassName("feed__container")[0];t&&(f(t),s(t)),function(t){new MutationObserver((function(t){var r,n=m(t);try{for(n.s();!(r=n.n()).done;){var e=r.value;if(e.addedNodes.length>0){var o=v(e.addedNodes);o&&(f(o),s(o))}}}catch(t){n.e(t)}finally{n.f()}})).observe(t,{childList:!0})}(document.getElementById("page_wrapper"))}b()})();